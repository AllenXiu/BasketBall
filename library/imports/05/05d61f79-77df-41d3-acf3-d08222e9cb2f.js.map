{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var TouchStatus = cc.Enum({\n    BEGEN:  -1, // 按下\n    ENDED:  -1, // 结束\n    CANCEL: -1  // 取消\n});\n\nvar BallStatus = cc.Enum({\n    FLY:  -1, // 飞\n    DOWN: -1, // 落\n    NONE: -1  // 静止\n});\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        emitSpeed: 0,\n        gravity: 0,\n        scale: 0,\n        startPosition: cc.Vec2\n    },\n\n    init: function(game){\n        this.game = game;\n        this.reset();\n        this.registerInput();\n    },\n\n    registerInput: function(){\n        this.listener = {\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            onTouchBegan: function(touch, event) {\n                this.status = TouchStatus.BEGEN;\n                return true;\n            }.bind(this),\n\n            onTouchMoved: function (touch, event) {\n            }.bind(this),\n\n            onTouchEnded: function (touch, event) {\n\n                this.status = TouchStatus.ENDED;\n                this.enableInput(false);\n                this.currentVerSpeed = this.emitSpeed;\n                this.target =  this.node.convertToNodeSpaceAR(touch.getLocation());\n                cc.log('touch x='+this.target.x+', y='+this.target.y);\n                this.currentHorSpeed = this.target.x;\n\n                this.doAnim();\n            }.bind(this),\n\n            onTouchCancelled: function (touch, event) {\n                this.status = TouchStatus.CANCEL;\n            }.bind(this)\n        },\n        cc.eventManager.addListener(this.listener, this.node);\n    },\n\n    enableInput: function (enable) {\n        if (enable) {\n            cc.eventManager.resumeTarget(this.node);\n        } else {\n            cc.eventManager.pauseTarget(this.node);\n        }\n    },\n\n    doAnim: function(){\n        var scaleAnim = cc.scaleTo(1, this.scale);\n        var rotateAnim = cc.rotateBy(2, 360);\n        var anim = cc.spawn(scaleAnim,rotateAnim);\n        \n        this.node.runAction(anim);\n    },\n\n    update: function (dt) {\n        if(this.status != TouchStatus.ENDED){\n            return;\n        }\n\n        this._updatePosition(dt);\n    },\n\n    _updatePosition: function(dt){\n        this.node.x += dt * this.currentHorSpeed;\n         \n        this.currentVerSpeed -= dt * this.gravity;\n        this.changeBallStatus(this.currentVerSpeed);\n        this.node.y += dt * this.currentVerSpeed;\n\n        if(this.ballStatus === BallStatus.DOWN && this.node.y < 0){\n            this.node.stopAllActions();\n            this.reset();\n            return;\n        }\n    },\n\n    // 更改篮球状态\n    changeBallStatus: function(speed){\n        if(speed === 0){\n            this.ballStatus = BallStatus.NONE;\n            this.game.switchCollision(false);\n        } else if(speed > 0) {\n            this.ballStatus = BallStatus.FLY;\n            this.game.switchCollision(false);\n        } else {\n            this.ballStatus = BallStatus.DOWN;\n            this.game.switchCollision(true);\n        }\n    },\n\n    onCollisionEnter: function (other, self) {\n        console.log('发生了碰撞' + other);\n\n        var box = other.node.getComponent('CollisionBox');;\n        var left = box.getLeft();\n        var right = box.getRight();\n\n        if((other.node.name === 'right' && this.node.x < left) || (other.node.name === 'left' && this.node.x > right)){\n            this.currentHorSpeed = this.currentHorSpeed * -1 * 1.5;\n        }\n\n        if((other.node.name === 'right' && this.node.x > right) || (other.node.name === 'left' && this.node.x < left)){\n            this.currentHorSpeed = this.currentHorSpeed * 1.5;\n        }\n        this.currentVerSpeed = this.currentVerSpeed * -1 * 1.2;\n        \n        // 碰撞系统会计算出碰撞组件在世界坐标系下的相关的值，并放到 world 这个属性里面\n        var world = self.world;\n\n        // 碰撞组件的 aabb 碰撞框\n        var aabb = world.aabb;\n\n        // 上一次计算的碰撞组件的 aabb 碰撞框\n        var preAabb = world.preAabb;\n\n        // 碰撞框的世界矩阵\n        var t = world.transform;\n\n        // 以下属性为圆形碰撞组件特有属性\n        var r = world.radius;\n        var p = world.position;\n    },\n\n    reset: function(){\n    },\n});"
  ]
}