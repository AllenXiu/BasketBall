require=function t(e,n,i){function o(c,r){if(!n[c]){if(!e[c]){var a="function"==typeof require&&require;if(!r&&a)return a(c,!0);if(s)return s(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[c]={exports:{}};e[c][0].call(h.exports,function(t){var n=e[c][1][t];return o(n?n:t)},h,h.exports,t,e,n,i)}return n[c].exports}for(var s="function"==typeof require&&require,c=0;c<i.length;c++)o(i[c]);return o}({Ball:[function(t,e,n){"use strict";cc._RFpush(e,"05d6195d99B06zz0IIi6csv","Ball");var i=cc.Enum({BEGEN:-1,ENDED:-1,CANCEL:-1}),o=cc.Enum({FLY:-1,DOWN:-1,NONE:-1});cc.Class({"extends":cc.Component,properties:{emitSpeed:0,gravity:0,scale:0},init:function(t){this.game=t,this.registerInput(),this.showAnim()},showAnim:function(){this.node.opacity=0;var t=cc.fadeIn(.3);this.node.runAction(t)},registerInput:function(){this.listener={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,e){return this.status=i.BEGEN,!0}.bind(this),onTouchMoved:function(t,e){}.bind(this),onTouchEnded:function(t,e){this.status=i.ENDED,this.enableInput(!1),this.currentVerSpeed=this.emitSpeed,this.target=this.node.convertToNodeSpaceAR(t.getLocation()),cc.log("touch x="+this.target.x+", y="+this.target.y),this.currentHorSpeed=1.2*this.target.x,this.doAnim()}.bind(this),onTouchCancelled:function(t,e){this.status=i.CANCEL}.bind(this)},cc.eventManager.addListener(this.listener,this.node)},enableInput:function(t){t?cc.eventManager.resumeTarget(this.node):cc.eventManager.pauseTarget(this.node)},doAnim:function(){var t=cc.scaleTo(1,this.scale),e=cc.rotateBy(2,360),n=cc.spawn(t,e);this.node.runAction(n)},getNode:function(){return this.node},update:function(t){this.status==i.ENDED&&this._updatePosition(t)},_updatePosition:function(t){return this.node.x+=t*this.currentHorSpeed,this.currentVerSpeed-=t*this.gravity,this.changeBallStatus(this.currentVerSpeed),this.node.y+=t*this.currentVerSpeed,this.ballStatus===o.DOWN&&this.node.y<-800?(this.node.stopAllActions(),this.node.removeFromParent(),cc.pool.putInPool(this),void this.game.newBall()):void 0},changeBallStatus:function(t){0===t?this.ballStatus=o.NONE:t>0?this.ballStatus=o.FLY:this.ballStatus=o.DOWN},onCollisionEnter:function(t,e){if(this.ballStatus!==o.FLY){var n=t.node.getComponent("CollisionBox"),i=n.getLeft(),s=n.getRight();("right"===t.node.name&&this.node.x<i||"left"===t.node.name&&this.node.x>s)&&(this.currentHorSpeed=-1*this.currentHorSpeed*1.5),("right"===t.node.name&&this.node.x>s||"left"===t.node.name&&this.node.x<i)&&(this.currentHorSpeed=1.5*this.currentHorSpeed),this.currentVerSpeed=-1*this.currentVerSpeed*1.2;var c=e.world;c.aabb,c.preAabb,c.transform,c.radius,c.position}}}),cc._RFpop()},{}],Basket:[function(t,e,n){"use strict";cc._RFpush(e,"ac9fdFyp49GVKHUgk9/FVli","Basket"),cc.Class({"extends":cc.Component,properties:{},init:function(t){var e=cc.moveBy(3,cc.p(200,0)),n=cc.moveBy(3,cc.p(-200,0)),i=cc.repeatForever(cc.sequence(e,n,n,e));this.node.runAction(i)}}),cc._RFpop()},{}],CollisionBox:[function(t,e,n){"use strict";cc._RFpush(e,"7c4c6Rwi4tIC4UMBgYL4231","CollisionBox"),cc.Class({"extends":cc.Component,properties:{},getLeft:function(){return this.node.x-this.node.width/2},getRight:function(){return this.node.x+this.node.width/2}}),cc._RFpop()},{}],GameManager:[function(t,e,n){"use strict";cc._RFpush(e,"7b066H36KxCVr0SNDZka91/","GameManager");var i=t("flush"),o=t("Basket"),s=t("Ball");cc.Class({"extends":cc.Component,properties:{ball:cc.Prefab,flushBtn:i,basket:o,startPosition:cc.Vec2},onLoad:function(){this.newBall(),this.initCollisionSys(),this.flushBtn.init(this)},initCollisionSys:function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},newBall:function(){var t=null;if(cc.pool.hasObject(s)){cc.pool.getFromPool(s);t=cc.pool.getFromPool(s).getNode()}else t=cc.instantiate(this.ball);t.setLocalZOrder(1),this.node.addChild(t),t.setPosition(this.startPosition),t.getComponent("Ball").init(this)}}),cc._RFpop()},{Ball:"Ball",Basket:"Basket",flush:"flush"}],flush:[function(t,e,n){"use strict";cc._RFpush(e,"a4f69u3MpVLKpn1uoE0day/","flush"),cc.Class({"extends":cc.Component,init:function(t){this.game=t},reload:function(){cc.director.loadScene("Game")}}),cc._RFpop()},{}]},{},["Ball","GameManager","CollisionBox","flush","Basket"]);